(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{366:function(a,t,s){"use strict";s.r(t);var e=s(42),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"pm2基础"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pm2基础"}},[a._v("#")]),a._v(" pm2基础")]),a._v(" "),s("h2",{attrs:{id:"_1-进程开启"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-进程开启"}},[a._v("#")]),a._v(" 1 进程开启")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 开启一个进程服务")]),a._v("\npm2 start app.js\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Specify an app name")]),a._v("\n--name "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("app_name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Watch and Restart app when files change")]),a._v("\n--watch\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Set memory threshold for app reload")]),a._v("\n--max-memory-restart "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("200MB"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Specify log file")]),a._v("\n--log "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("log_path"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Pass extra arguments to the script")]),a._v("\n-- arg1 arg2 arg3\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Delay between automatic restarts")]),a._v("\n--restart-delay "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("delay "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" ms"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Prefix logs with time")]),a._v("\n--time\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Do not auto restart app")]),a._v("\n--no-autorestart\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Specify cron for forced restart")]),a._v("\n--cron "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("cron_pattern"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Attach to application log")]),a._v("\n--no-daemon\n")])])]),s("h2",{attrs:{id:"_2-管理进程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-管理进程"}},[a._v("#")]),a._v(" 2 管理进程")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ pm2 restart app_name\n$ pm2 reload app_name\n$ pm2 stop app_name\n$ pm2 delete app_name\n")])])]),s("h2",{attrs:{id:"_3-列举管理的应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-列举管理的应用"}},[a._v("#")]),a._v(" 3 列举管理的应用")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("pm2 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("list"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("status"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])]),s("h2",{attrs:{id:"_4-日志查看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-日志查看"}},[a._v("#")]),a._v(" 4 日志查看")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("pm2 logs\npm2 logs --lines "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("200")]),a._v("\n")])])]),s("h2",{attrs:{id:"_5-命令行基础看板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-命令行基础看板"}},[a._v("#")]),a._v(" 5 命令行基础看板")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("pm2 monit\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);